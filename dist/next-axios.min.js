/*!
 * name: @feizheng/next-axios
 * url: https://github.com/afeiship/next-axios
 * version: 3.0.0
 * date: 2020-03-24T09:17:41.969Z
 * license: MIT
 */
!function(){var e=e||window||self||Function("return this")(),s=e.axios||require("axios"),o=e.nx||require("@feizheng/next-js-core2"),t=o.contentType||require("@feizheng/next-content-type"),n=o.stubSingleton||require("@feizheng/next-stub-singleton"),r=o.declare("nx.Axios",{statics:o.mix(null,n()),methods:{axios:s,init:function(){this.setDefaults(),this.setRequestInterceptor(),this.setResponseInterceptor(),this.onInit()},onInit:function(){},onRequest:function(){},setDefaults:function(e){var t=this.headers(),n=e||{baseURL:"./",timeout:3e4,headers:{common:t,get:t,post:t,delete:t,put:t,patch:t,head:t}};o.mix(s.defaults,n)},setRequestInterceptor:function(){},setResponseInterceptor:function(){var t=this;s.interceptors.response.use(function(e){return t.isSuccess(e)?t.success(e):(t.error(e),Promise.reject(e))},function(e){return t.error(e),Promise.reject(e)})},isSuccess:function(e){return!!e.success},headers:function(){return{"Content-Type":t("json")}},success:function(e){return this.data(e)},error:function(e){console.log("[nx.Axios]: Please implment the method!",e)},data:function(e){return e},request:function(e){return this.onRequest(e),s.request(e)},"get,delete,head,post,put,patch":function(r){return function(e,t,n){var s="get"===r?{params:t}:{data:t};return this.request(o.mix({method:r,url:e},s,n))}}}});"undefined"!=typeof module&&module.exports&&(module.exports=r)}();