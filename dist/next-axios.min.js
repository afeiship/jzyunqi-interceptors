/*!
 * name: next-axios
 * url: https://github.com/afeiship/next-axios
 * version: 1.1.0
 * date: 2019-08-14T12:14:57.208Z
 * license: MIT
 */
!function(){var e=e||window||self||Function("return this")(),t=e.nx||require("next-js-core2"),n=e.axios||require("axios"),o=t.contentType||require("next-content-type"),s=t.stubSingleton||require("next-stub-singleton"),r=n.CancelToken,u=t.declare("nx.Axios",{statics:t.mix(null,s()),methods:{axios:n,init:function(){this.setDefaults(),this.setRequestInterceptor(),this.setResponseInterceptor()},setDefaults:function(e){var o=this.headers(),s=e||{baseURL:"./",timeout:3e4,headers:{common:o,get:o,post:o,delete:o,put:o,patch:o,head:o}};t.mix(n.defaults,s)},setRequestInterceptor:function(){},setResponseInterceptor:function(){var e=this;n.interceptors.response.use(function(t){return e.success(t)},function(t){e.error(t)})},headers:function(){return{"Content-Type":o("json")}},success:function(e){return this.toData(e)},error:function(e){console.log("[nx.Axios]: Please implment the method!",e)},toData:function(e){return e},isSuccess:function(e){return!e.errorCode},request:function(e){var o=e.resource,s=r.source(),u=o?{cancelToken:s.token}:null,i=t.mix(u,e);return o&&t.set(o[0],o[1],{destroy:s.cancel}),n.request(i)},"get,delete,head,post,put,patch":function(e){return function(t,o,s){return n[e](t,o,s)}}}});"undefined"!=typeof module&&module.exports&&(module.exports=u)}();